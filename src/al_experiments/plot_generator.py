import numpy as np
import matplotlib.pyplot as plt


class PlotGenerator:
    def __init__(self):
        pass

    def create_progress_plot(self):
        random_baseline_whole_instances_runtime_frac = np.array([0.012854, 0.014792, 0.016731, 0.018669, 0.020608, 0.022546, 0.024485, 0.026423, 0.028362, 0.030300, 0.032239, 0.034177, 0.036116, 0.038054, 0.039993, 0.041931, 0.043869, 0.045808, 0.047746, 0.049685, 0.051623, 0.053562, 0.055500, 0.057439, 0.059377, 0.061316, 0.063254, 0.065193, 0.067131, 0.069070, 0.071008, 0.072946, 0.074885, 0.076823, 0.078762, 0.080700, 0.082639, 0.084577, 0.086516, 0.088454, 0.090393, 0.092331, 0.094270, 0.096208, 0.098147, 0.100085, 0.102023, 0.103962, 0.105900, 0.107839, 0.109777, 0.111716, 0.113654, 0.115593, 0.117531, 0.119470, 0.121408, 0.123347, 0.125285, 0.127223, 0.129162, 0.131100, 0.133039, 0.134977, 0.136916, 0.138854, 0.140793, 0.142731, 0.144670, 0.146608, 0.148547, 0.150485, 0.152424, 0.154362, 0.156300, 0.158239, 0.160177, 0.162116, 0.164054, 0.165993, 0.167931, 0.169870, 0.171808, 0.173747, 0.175685, 0.177624, 0.179562, 0.181501, 0.183439, 0.185377, 0.187316, 0.189254, 0.191193, 0.193131, 0.195070, 0.197008, 0.198947, 0.200885, 0.202824, 0.204762])   
        random_baseline_whole_instances_true_acc = np.array([0.800671, 0.815994, 0.831123, 0.840869, 0.849788, 0.858210, 0.865402, 0.871996, 0.876478, 0.881804, 0.886714, 0.890490, 0.896291, 0.900608, 0.902859, 0.904178, 0.904763, 0.904025, 0.901968, 0.900711, 0.901171, 0.902492, 0.905383, 0.909716, 0.913746, 0.917232, 0.920133, 0.920813, 0.920997, 0.920607, 0.919150, 0.919176, 0.919301, 0.920650, 0.923952, 0.927819, 0.931296, 0.933643, 0.935445, 0.936112, 0.935805, 0.934204, 0.931470, 0.928752, 0.925632, 0.923231, 0.921840, 0.920926, 0.921713, 0.922844, 0.925048, 0.927268, 0.928746, 0.929591, 0.929659, 0.929496, 0.929816, 0.929342, 0.928226, 0.927260, 0.927368, 0.928662, 0.930807, 0.932590, 0.933650, 0.934468, 0.934882, 0.934914, 0.934747, 0.934176, 0.932449, 0.930397, 0.928821, 0.928179, 0.928629, 0.929744, 0.932620, 0.936301, 0.940253, 0.943307, 0.945378, 0.946918, 0.947236, 0.946021, 0.945092, 0.943900, 0.943051, 0.942690, 0.942132, 0.941903, 0.942127, 0.942416, 0.942220, 0.941933, 0.941853, 0.941881, 0.942131, 0.943495, 0.945489, 0.946260])

        random_baseline_dynamic_timeout_runtime_frac = np.array([0.000233, 0.002042, 0.003850, 0.005658, 0.007467, 0.009275, 0.011083, 0.012891, 0.014700, 0.016508, 0.018316, 0.020125, 0.021933, 0.023741, 0.025550, 0.027358, 0.029166, 0.030974, 0.032783, 0.034591, 0.036399, 0.038208, 0.040016, 0.041824, 0.043633, 0.045441, 0.047249, 0.049057, 0.050866, 0.052674, 0.054482, 0.056291, 0.058099, 0.059907, 0.061716, 0.063524, 0.065332, 0.067140, 0.068949, 0.070757, 0.072565, 0.074374, 0.076182, 0.077990, 0.079799, 0.081607, 0.083415, 0.085223, 0.087032, 0.088840, 0.090648, 0.092457, 0.094265, 0.096073, 0.097882, 0.099690, 0.101498, 0.103306, 0.105115, 0.106923, 0.108731, 0.110540, 0.112348, 0.114156, 0.115965, 0.117773, 0.119581, 0.121389, 0.123198, 0.125006, 0.126814, 0.128623, 0.130431, 0.132239, 0.134048, 0.135856, 0.137664, 0.139472, 0.141281, 0.143089, 0.144897, 0.146706, 0.148514, 0.150322, 0.152131, 0.153939, 0.155747, 0.157555, 0.159364, 0.161172, 0.162980, 0.164789, 0.166597, 0.168405, 0.170214, 0.172022, 0.173830, 0.175639, 0.177447, 0.179255])    
        random_baseline_dynamic_timeout_true_acc = np.array([0.732619, 0.856523, 0.868901, 0.882169, 0.883973, 0.879346, 0.891275, 0.891847, 0.894557, 0.893746, 0.896611, 0.890922, 0.901432, 0.908260, 0.902582, 0.907933, 0.902097, 0.899038, 0.903821, 0.906894, 0.902879, 0.908655, 0.909097, 0.908730, 0.907207, 0.907966, 0.913631, 0.907616, 0.909618, 0.910934, 0.907407, 0.903917, 0.904092, 0.898227, 0.900781, 0.906085, 0.903549, 0.907407, 0.898499, 0.898975, 0.908635, 0.903020, 0.900988, 0.906085, 0.907647, 0.908730, 0.911376, 0.901478, 0.901609, 0.904755, 0.908892, 0.903957, 0.899471, 0.902021, 0.899832, 0.903703, 0.903439, 0.903439, 0.904762, 0.912901, 0.915254, 0.914959, 0.911376, 0.915344, 0.918822, 0.915219, 0.914615, 0.914226, 0.915344, 0.916667, 0.915344, 0.919312, 0.921950, 0.916537, 0.917989, 0.914153, 0.924477, 0.927364, 0.916797, 0.918372, 0.919452, 0.923439, 0.923394, 0.929894, 0.927249, 0.925926, 0.929395, 0.928561, 0.928181, 0.924603, 0.932270, 0.932540, 0.933759, 0.931217, 0.935059, 0.935185, 0.933862, 0.937831, 0.933847, 0.931217])

        variance_based_selection_runtime_frac = np.array([0.002298, 0.003724, 0.005151, 0.006578, 0.008004, 0.009431, 0.010858, 0.012284, 0.013711, 0.015138, 0.016564, 0.017991, 0.019418, 0.020844, 0.022271, 0.023698, 0.025124, 0.026551, 0.027978, 0.029404, 0.030831, 0.032258, 0.033685, 0.035111, 0.036538, 0.037965, 0.039391, 0.040818, 0.042245, 0.043671, 0.045098, 0.046525, 0.047951, 0.049378, 0.050805, 0.052231, 0.053658, 0.055085, 0.056511, 0.057938, 0.059365, 0.060791, 0.062218, 0.063645, 0.065071, 0.066498, 0.067925, 0.069351, 0.070778, 0.072205, 0.073631, 0.075058, 0.076485, 0.077911, 0.079338, 0.080765, 0.082192, 0.083618, 0.085045, 0.086472, 0.087898, 0.089325, 0.090752, 0.092178, 0.093605, 0.095032, 0.096458, 0.097885, 0.099312, 0.100738, 0.102165, 0.103592, 0.105018, 0.106445, 0.107872, 0.109298, 0.110725, 0.112152, 0.113578, 0.115005, 0.116432, 0.117858, 0.119285, 0.120712, 0.122138, 0.123565, 0.124992, 0.126418, 0.127845, 0.129272, 0.130699, 0.132125, 0.133552, 0.134979, 0.136405, 0.137832, 0.139259, 0.140685, 0.142112, 0.143539])  
        variance_based_selection_true_acc = np.array([0.802179, 0.815325, 0.821714, 0.829112, 0.837802, 0.840405, 0.844817, 0.848778, 0.849851, 0.850670, 0.851558, 0.852389, 0.854510, 0.859935, 0.867421, 0.874355, 0.878819, 0.880730, 0.882847, 0.884688, 0.886474, 0.889573, 0.891923, 0.893214, 0.894246, 0.895334, 0.896721, 0.898168, 0.899581, 0.901787, 0.904594, 0.907746, 0.910952, 0.913655, 0.914495, 0.914601, 0.913331, 0.912274, 0.912282, 0.912549, 0.913679, 0.914232, 0.913793, 0.913313, 0.912863, 0.914563, 0.915963, 0.916391, 0.916623, 0.916497, 0.916864, 0.917380, 0.917660, 0.918070, 0.918479, 0.919161, 0.919485, 0.920138, 0.920728, 0.920082, 0.919787, 0.919767, 0.920038, 0.921426, 0.923065, 0.924713, 0.926290, 0.928292, 0.929882, 0.931300, 0.933537, 0.935675, 0.937343, 0.938549, 0.939656, 0.940860, 0.942117, 0.943115, 0.944101, 0.945142, 0.945847, 0.946553, 0.947267, 0.947982, 0.948820, 0.949580, 0.950248, 0.950471, 0.950756, 0.950920, 0.950967, 0.950896, 0.950823, 0.951183, 0.951512, 0.951840, 0.952168, 0.952497, 0.952472, 0.952381]) 

        dynamic_timeout_optimized_runtime_frac = np.array([0.001427, 0.002411, 0.003394, 0.004377, 0.005361, 0.006344, 0.007327, 0.008311, 0.009294, 0.010277, 0.011261, 0.012244, 0.013227, 0.014211, 0.015194, 0.016178, 0.017161, 0.018144, 0.019128, 0.020111, 0.021094, 0.022078, 0.023061, 0.024044, 0.025028, 0.026011, 0.026994, 0.027978, 0.028961, 0.029944, 0.030928, 0.031911, 0.032894, 0.033878, 0.034861, 0.035845, 0.036828, 0.037811, 0.038795, 0.039778, 0.040761, 0.041745, 0.042728, 0.043711, 0.044695, 0.045678, 0.046661, 0.047645, 0.048628, 0.049611, 0.050595, 0.051578, 0.052561, 0.053545, 0.054528, 0.055512, 0.056495, 0.057478, 0.058462, 0.059445, 0.060428, 0.061412, 0.062395, 0.063378, 0.064362, 0.065345, 0.066328, 0.067312, 0.068295, 0.069278, 0.070262, 0.071245, 0.072228, 0.073212, 0.074195, 0.075179, 0.076162, 0.077145, 0.078129, 0.079112, 0.080095, 0.081079, 0.082062, 0.083045, 0.084029, 0.085012, 0.085995, 0.086979, 0.087962, 0.088945, 0.089929, 0.090912, 0.091895, 0.092879, 0.093862, 0.094845, 0.095829, 0.096812, 0.097796, 0.098779]) 
        dynamic_timeout_optimized_true_acc = np.array([0.915045, 0.911842, 0.903083, 0.905274, 0.909750, 0.923364, 0.930298, 0.930972, 0.930386, 0.918715, 0.921096, 0.926069, 0.924703, 0.917278, 0.918582, 0.916526, 0.913898, 0.919391, 0.919613, 0.920864, 0.918878, 0.919720, 0.919967, 0.919121, 0.921070, 0.918207, 0.912812, 0.909581, 0.907517, 0.907499, 0.908177, 0.907898, 0.906824, 0.903456, 0.905493, 0.906737, 0.904698, 0.904792, 0.905999, 0.905993, 0.904649, 0.902110, 0.899954, 0.897426, 0.893337, 0.892723, 0.895743, 0.893570, 0.893444, 0.894502, 0.894002, 0.889396, 0.890087, 0.892857, 0.894163, 0.896261, 0.897140, 0.900478, 0.901393, 0.903588, 0.899612, 0.900736, 0.897163, 0.894490, 0.898444, 0.900974, 0.902380, 0.900323, 0.901981, 0.899697, 0.897681, 0.901584, 0.899075, 0.897663, 0.897110, 0.896737, 0.897074, 0.893708, 0.894759, 0.895580, 0.895503, 0.894948, 0.896996, 0.894498, 0.892857, 0.892041, 0.891571, 0.892358, 0.892372, 0.894156, 0.889654, 0.894529, 0.897532, 0.900728, 0.902143, 0.901996, 0.902031, 0.904149, 0.906475, 0.906085]) 

        al_runtime_frac = np.array([0.02106387, 0.02159122, 0.02176197, 0.02385467, 0.02522425, 0.02807994, 0.05256794, 0.14633324])
        al_true_acc = np.array([0.59288538, 0.6798419,  0.69762846, 0.76482213, 0.77865613, 0.80237154, 0.82411067, 0.8972332])

        plt.figure(figsize=(10, 6))
        plt.plot(random_baseline_whole_instances_runtime_frac, random_baseline_whole_instances_true_acc, marker='x', label="random instances")
        plt.plot(random_baseline_dynamic_timeout_runtime_frac, random_baseline_dynamic_timeout_true_acc, marker='x', label="random dynamic timeout")
        plt.plot(variance_based_selection_runtime_frac, variance_based_selection_true_acc, marker='x', label="variance based selection")
        plt.plot(dynamic_timeout_optimized_runtime_frac, dynamic_timeout_optimized_true_acc, marker='x', label="dynamic timeout optimized")
        #plt.plot(al_runtime_frac, al_true_acc, marker='x', label="active learning")
        plt.legend()
        plt.xlabel("Fraction of Runtime")
        plt.xlim(right=0.1)
        plt.ylabel("Ranking Accuracy")
        plt.title("Comparision of different instance selection methods")
        plt.grid(True, linestyle="--", alpha=0.5)
        plt.tight_layout()
        # Show or save
        plt.show()
        #plt.savefig("instance_histogram.png", dpi=300)